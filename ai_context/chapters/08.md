Chapter VIII - Contracts
ER Diagram
mermaid
Copy Code
erDiagram
    contracts {
        string contract_id PK
        string contract_name
        enum contract_type
        string client_name
        string description
        enum difficulty_rating
        number reward_amount
        enum reward_currency
        string location
        number estimated_duration_days
        enum contract_status
        datetime posted_date
        datetime deadline_date
    }
    
    monster_hunting_contracts {
        string hunt_contract_id PK
        string contract_id FK
        string target_monster_species
        enum target_rank
        number target_quantity
        string last_known_location
        string special_requirements
        boolean requires_proof_of_kill
        string proof_type_required
    }
    
    contract_participants {
        string participant_id PK
        string contract_id FK
        string character_id FK
        enum participation_role
        number reward_share_percentage
        boolean is_contract_leader
        datetime joined_date
    }
    
    monsters {
        string monster_id PK
        string species_name
        enum monster_rank
        number sub_rank
        string habitat_type
        string behavioral_patterns
        string known_abilities
        enum threat_level
        string weaknesses
        string resistances
        number typical_group_size
    }
    
    monster_encounters {
        string encounter_id PK
        string monster_id FK
        string location_id FK
        number quantity_encountered
        enum encounter_outcome
        datetime encounter_date
        string participants_involved
        string loot_obtained
    }
    
    contract_rewards {
        string reward_id PK
        string contract_id FK
        enum reward_type
        number amount
        string item_description
        boolean is_distributed
        datetime distribution_date
    }
    
    monster_design_templates {
        string template_id PK
        string template_name
        enum base_rank
        string core_abilities
        string suggested_modifications
        string encounter_tactics
        string environmental_preferences
    }
    
    contracts ||--o{ monster_hunting_contracts : "specialized_as"
    contracts ||--o{ contract_participants : "involves"
    contracts ||--o{ contract_rewards : "offers"
    monsters ||--o{ monster_hunting_contracts : "targeted_by"
    monsters ||--o{ monster_encounters : "appears_in"
    monster_design_templates ||--o{ monsters : "based_on"
Gameplay Flowchart
mermaid
Copy Code
flowchart TD
    A[Visit Contract Board/Agency] --> B[Browse Available Contracts]
    B --> C{Contract Type?}
    C -->|Monster Hunting| D[Review Hunt Details]
    C -->|Other| E[Review General Contract]
    D --> F[Check Target Monster Info]
    F --> G[Assess Difficulty vs Reward]
    G --> H{Accept Contract?}
    E --> I[Review Requirements]
    I --> G
    H -->|No| J[Continue Browsing]
    H -->|Yes| K[Form/Join Party]
    K --> L[Plan Approach Strategy]
    L --> M{Monster Hunt?}
    M -->|Yes| N[Research Target Location]
    M -->|No| O[Prepare for Contract Type]
    N --> P[Travel to Hunt Area]
    P --> Q[Track Monster]
    Q --> R{Monster Found?}
    R -->|No| S[Continue Searching]
    R -->|Yes| T[Assess Monster Strength]
    T --> U{Engage Combat?}
    U -->|No| V[Retreat/Replan]
    U -->|Yes| W[Initiate Combat]
    W --> X[Execute Combat]
    X --> Y{Combat Outcome?}
    Y -->|Victory| Z[Collect Proof/Loot]
    Y -->|Defeat| AA[Retreat/Regroup]
    Z --> BB[Return to Client]
    BB --> CC[Submit Proof]
    CC --> DD[Receive Reward]
    DD --> EE[Distribute Among Party]
    EE --> FF[Contract Complete]
    AA --> GG{Retry Contract?}
    GG -->|Yes| HH[Heal/Reequip]
    GG -->|No| II[Abandon Contract]
    HH --> V
    II --> JJ[Contract Failed]
    V --> KK{New Strategy?}
    KK -->|Yes| L
    KK -->|No| II
    S --> LL{Time Limit Exceeded?}
    LL -->|Yes| II
    LL -->|No| Q
    O --> MM[Execute Contract Tasks]
    MM --> NN{Tasks Complete?}
    NN -->|Yes| BB
    NN -->|No| OO[Continue Working]
    OO --> MM
    J --> PP{More Contracts Available?}
    PP -->|Yes| B
    PP -->|No| QQ[Wait for New Contracts]
    QQ --> B
    FF --> RR[Gain Reputation]
    JJ --> SS[Lose Reputation]
    RR --> TT[Access Better Contracts]
    SS --> UU[Limited Contract Access]
    TT --> A
    UU --> A
TypeScript Enums & Constants
typescript
Copy Code
enum ContractType {
  MONSTER_HUNTING = "monster_hunting",
  ESCORT_MISSION = "escort_mission",
  ITEM_RETRIEVAL = "item_retrieval",
  INVESTIGATION = "investigation",
  PROTECTION_DETAIL = "protection_detail",
  EXPLORATION = "exploration",
  DIPLOMATIC_MISSION = "diplomatic_mission",
  CONSTRUCTION = "construction",
  RESEARCH_ASSISTANCE = "research_assistance"
}

enum DifficultyRating {
  TRIVIAL = "trivial",
  EASY = "easy",
  MODERATE = "moderate",
  HARD = "hard",
  EXTREME = "extreme",
  LEGENDARY = "legendary"
}

enum ContractStatus {
  POSTED = "posted",
  ACCEPTED = "accepted",
  IN_PROGRESS = "in_progress",
  COMPLETED = "completed",
  FAILED = "failed",
  CANCELLED = "cancelled",
  EXPIRED = "expired"
}

enum MonsterRank {
  LESSER = "lesser",
  IRON = "iron",
  BRONZE = "bronze",
  SILVER = "silver",
  GOLD = "gold",
  DIAMOND = "diamond"
}

enum ThreatLevel {
  MINIMAL = "minimal",
  LOW = "low",
  MODERATE = "moderate",
  HIGH = "high",
  EXTREME = "extreme",
  CATASTROPHIC = "catastrophic"
}

enum ParticipationRole {
  CONTRACT_LEADER = "contract_leader",
  COMBATANT = "combatant",
  SUPPORT = "support",
  SPECIALIST = "specialist",
  OBSERVER = "observer"
}

enum RewardType {
  SPIRIT_COINS = "spirit_coins",
  EQUIPMENT = "equipment",
  MATERIALS = "materials",
  INFORMATION = "information",
  REPUTATION = "reputation",
  ESSENCE = "essence",
  AWAKENING_STONE = "awakening_stone"
}

enum EncounterOutcome {
  PLAYER_VICTORY = "player_victory",
  MONSTER_VICTORY = "monster_victory",
  MUTUAL_RETREAT = "mutual_retreat",
  MONSTER_FLED = "monster_fled",
  PLAYER_FLED = "player_fled",
  NEGOTIATED_RESOLUTION = "negotiated_resolution"
}

const MONSTER_DESIGN_PRINCIPLES = {
  RANK_SCALING: "Monsters scale with player rank for appropriate challenge",
  UNIQUE_ABILITIES: "Each monster species has distinctive capabilities",
  ENVIRONMENTAL_ADAPTATION: "Monsters suited to their habitat",
  BEHAVIORAL_PATTERNS: "Consistent behavior based on intelligence and nature",
  WEAKNESS_EXPLOITATION: "All monsters have exploitable weaknesses"
} as const;

const CONTRACT_MECHANICS = {
  PARTY_FORMATION: "Multiple players can join single contract",
  REWARD_SHARING: "Rewards distributed based on contribution/agreement",
  TIME_LIMITS: "Most contracts have deadlines",
  REPUTATION_SYSTEM: "Success/failure affects future contract availability",
  PROOF_REQUIREMENTS: "Monster hunts typically require proof of completion"
} as const;
Explanatory Notes
• Contracts serve as structured adventure hooks with clear objectives and rewards
• Monster hunting contracts are the most common type, requiring specific targets to be eliminated
• Contract difficulty scales with monster rank and special requirements
• Parties can form to tackle contracts together with shared rewards
• Proof of completion is typically required (monster parts, witness testimony, etc.)
• Monster design follows templates but allows for customization and variation
• Each monster species has unique abilities, weaknesses, and behavioral patterns
• Contract success/failure affects character reputation and access to future contracts
• Rewards can include spirit coins, equipment, materials, essences, or awakening stones
• Time limits and deadlines add urgency to contract completion
• Environmental factors and monster habitats affect encounter difficulty

